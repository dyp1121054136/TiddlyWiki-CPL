{"title":"$:/plugins/oeyoews/hitokoto","description":"hitokoto","author":"oeyoews","version":"0.0.5","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"hitokoto","meat#disabled":"yes","dependents":"$:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/hitokoto/readme\":{\"title\":\"$:/plugins/oeyoews/hitokoto/readme\",\"text\":\"- ui 参考 https://innei.in/says\\n\\n## TODO\\n\\n- 适配 darkmode\\n\",\"type\":\"text/markdown\",\"description\":\"hitokoto\"},\"$:/plugins/oeyoews/hitokoto/getRandomColor.js\":{\"title\":\"$:/plugins/oeyoews/hitokoto/getRandomColor.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/hitokoto/getRandomColor.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nmodule.exports=()=>{const e=[\\\"red\\\",\\\"orange\\\",\\\"amber\\\",\\\"yellow\\\",\\\"lime\\\",\\\"green\\\",\\\"emerald\\\",\\\"teal\\\",\\\"cyan\\\",\\\"sky\\\",\\\"blue\\\",\\\"indigo\\\",\\\"violet\\\",\\\"purple\\\",\\\"fuchsia\\\",\\\"pink\\\",\\\"rose\\\"];return e[Math.floor(Math.random()*e.length)]};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/hitokoto/widget.js\":{\"title\":\"$:/plugins/oeyoews/hitokoto/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/hitokoto/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nhitokoto widget\\n\\\\*/\\nconst{widget:e}=require(\\\"$:/core/modules/widgets/widget.js\\\"),t=require(\\\"./getRandomColor\\\");exports.ht=class extends e{constructor(e,t){super(e,t)}render(e,i){if(!$tw.browser)return;this.parentDomNode=e,this.computeAttributes(),this.execute();const r=this.document.createElement(\\\"div\\\");if(r.isTiddlyWikiFakeDom)return;const d=this.getVariable(\\\"currentTiddler\\\"),{filter:n=\\\"[tag[Journal]!sort[created]limit[99]]\\\"}=this.attributes,o=$tw.wiki.filterTiddlers(n);if(o.includes(d))return void console.warn(\\\"Dont use ht widget in journal tiddler!!!\\\");const s=[];o.map((e=>{let i;const r=t(),{created:d,creator:n,title:o}=$tw.wiki.getTiddler(e).fields,a=this.document.createElement(\\\"div\\\"),l=this.document.createElement(\\\"div\\\"),c=d.toLocaleDateString();l.textContent=c,l.addEventListener(\\\"click\\\",(()=>{this.dispatchEvent({type:\\\"tm-navigate\\\",param:o,navigateTo:o})})),l.className=\\\"mb-2 w-full md:mb-0 md:w-auto hover:underline hover:text-indigo-400 hover:cursor-pointer transition\\\";const m=this.document.createElement(\\\"div\\\");if(m.className=\\\"mb-2 w-full md:mb-0 md:w-auto text-right\\\",m.textContent=n?`@${n}`:\\\"\\\",a.className=\\\"flex flex-wrap text-sm md:justify-between\\\",a.append(l,m),!$tw.wiki.getTiddlerText(o))return;if(i=$tw.wiki.renderText(\\\"text/html\\\",\\\"text/vnd.tiddlywiki\\\",`!! ${o} \\\\n <$transclude $tiddler=\\\"${o}\\\" $mode=\\\"block\\\" />`),!i||\\\"<p></p>\\\"===i)return;const u=this.document.createElement(\\\"blockquote\\\");u.className=`mt-4 md:mt-8 mb-1 bg-${r}-100/50 dark:bg-${r}-400 px-2 rounded border-l-[3px] border-l-${r}-300 mx-0 py-2`,u.innerHTML=i,s.push(u,a)})),r.append(...s),e.insertBefore(r,i),this.domNodes.push(r)}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}