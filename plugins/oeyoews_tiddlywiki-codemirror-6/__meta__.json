{"title":"$:/plugins/oeyoews/tiddlywiki-codemirror-6","author":"oeyoews","name":"CodeMirror6","description":"CodeMirror 6 editor with vim mode","readme":"<$button class=\"tc-btn-invisible\" style=\"overflow: hidden;white-space: pre;width: 100%;\" message=\"tm-open-external-window\" param=\"https://github.com/oeyoews/tiddlywiki-starter-kit\">{{$:/core/images/github}} <$text text=\"https://github.com/oeyoews/tiddlywiki-starter-kit\"/></$button>\n\n<$button class=\"tc-btn-invisible\" style=\"overflow: hidden;white-space: pre;width: 100%;\" message=\"tm-open-external-window\" param=\"https://github.com/oeyoews/tiddlywiki-starter-kit\">{{$:/core/images/home-button}} <$text text=\"https://github.com/oeyoews/tiddlywiki-starter-kit\"/></$button>\n\n> modified on btc codemirror6 plugin\n\n!! Features\n\n* codeblock highlight\r\n* rainbow brackets\r\n* tiddler completion: `[[xxx]]` `{{xxx}}`\r\n* image completion: `[img[xxx]]`\r\n* support user snippets\r\n* widget completion: `<$xxx />`\r\n* minmap\r\n* vimmode\r\n* custom placeholder, tabsize, mincompletion length\r\n* tiddler and url jump\r\n* 字符数统计\r\n* markdown: autolist(and task list)\r\n* multi themes(material, onedark etc.)\n\n!! Preview\n\nhttps://tiddlywiki-codemirror6.vercel.app\r\nhttps://oeyoews.github.io/tiddlywiki-codemirror6\n\n!! This plugin adds the [ext[CodeMirror 6|https://codemirror.net]] editor to [ext[TiddlyWiki|https://tiddlywiki.com]]\n\nSee the ''usage'' section for keyboard shortcuts\n\nIf you like the plugin, feel free to leave me a star on [ext[GitHub|https://github.com/oeyoews/tiddlywiki-codemirror6]]\n\n!! DONE\n\n* hmr config\r\n* completion trigger(delimiter)\r\n* https://github.com/Gk0Wk/TW5-CodeMirror-Enhanced 添加类似的功能 on cm6\r\n* img completion\r\n* highlight: lang-tiddlywiki https://codemirror.net/examples/lang-package/\r\n* support tiddler completion\r\n* 继承codemirror 5 的代码片段\r\n* use $tw api\r\n* 补全自动匹配选项\r\n* 字体大小问题\r\n* multi cursor\r\n* destory\r\n* ~~support select cm6 or textarea~~\r\n* refactor engine.js to es6 class\r\n* placeholder 样式问题(不可见)\r\n* theme: https://github.com/codemirror/theme-one-dark\r\n* tab to completion\r\n* min completion length\r\n* snippets support compatiable vscode or vim snippets\r\n* 内置一组代码片段\n\n<!-- * ~~split to vim plugin: 由于使用到了 cm6的包作为依赖, 因此将其单独打包出去, 作为模块的形式加载不太可能~~\r\n* ~~Uncaught RangeError: A document must have at least one line~~\r\n* ~~support emacs keymap https://www.npmjs.com/package/@replit/codemirror-emacs~~\r\n* ~~support vim snippets(vim-snippets repo)~~\r\n* ~~custom preview(render to dom)~~\r\n* ~~subplugin for different language~~\r\n* ~~lsp: https://github.com/FurqanSoftware/codemirror-languageserver~~\r\n* https://codesandbox.io/p/sandbox/codesandbox-next-363-forked-734jrl?file=%2Fsrc%2Findex.js%3A4%2C1 -->\n\n!! Next TODO(Roadmap)\n\n* [ ] onedark 样式去掉后发现markdown 的高亮变化了\r\n* [ ] 支持系统tiddler 补全(目前默认是过滤掉了系统tiddler)\r\n* [ ] plugin i18n\r\n* [ ] 打包一个没有vim插件的.(vim由于含有大量的按键映射, 占了将近150kb).\r\n* [ ] support copy image https://github.com/Jermolene/TiddlyWiki5/blob/f08d3d60309c97c4ddeeb3a8e0edf35bac74c928/plugins/tiddlywiki/codemirror/engine.js#L222\r\n* [ ] 补全 validFor 优化\r\n* [ ] 配置使用单一json(需要重新做配置UI, 可以模仿codemirror 5)\r\n* [ ] 焦点残留问题(vim mode)\r\n* [ ] ctrl + r not work on vim mode\r\n* [ ] finish lang-tiddlywiki package\r\n* [ ] highlight widget keyword https://github.com/Gk0Wk/TW5-CodeMirror-Enhanced/blob/main/src/cme/mode/parserules/blocks/heading.ts\r\n* [ ] 保存每个tiddler 的最后一次编辑的光标位置. https://discuss.codemirror.net/t/storing-restoring-treecursor-location-efficiently/7227 https://discuss.codemirror.net/t/set-cursor-position-in-v6/4476\r\n* [ ] support codemirror-themes-all(70kb) https://uiwjs.github.io/react-codemirror/#/theme/data/material/dark\r\n* [ ] remove codemirror highlight utils\r\n* [ ] 模仿rainbow 高亮 [[xxx]] 里面的tiddler, 或许可以直接加上点击事件\n\n!! Links\n\n* https://discuss.codemirror.net\r\n* https://github.com/BurningTreeC/tiddlywiki-codemirror-6/blob/main/plugins/tiddlywiki-codemirror-6/engine.js\r\n* https://burningtreec.github.io/tiddlywiki-codemirror-6/\r\n* https://github.com/val-town/codemirror-ts/blob/main/src/hover/getHover.ts\n\n!! Tips\n\n* prese `ctrl + /` to comment line(non vimmode)\n\n```js\r\n    { key: \"Ctrl-Shift-[\", mac: \"Cmd-Alt-[\", run: foldCode },\r\n    { key: \"Ctrl-Shift-]\", mac: \"Cmd-Alt-]\", run: unfoldCode },\r\n    { key: \"Ctrl-Alt-[\", run: foldAll },\r\n    { key: \"Ctrl-Alt-]\", run: unfoldAll }\r\n```\r\n","version":"0.4.28","plugin-type":"plugin","dependents":"$:/plugins/oeyoews/tiddlywiki-cmp $:/plugins/oeyoews/tiddlywiki-cmp-emoji","core-version":">=5.3.3","requires-reload":false,"category":"Functional","tags":"Editor","type":"application/json","latest":"0.4.28","versions":["0.3.24","0.4.0","0.4.9","0.4.16","0.4.17","0.4.28"],"versions-size":{"0.3.24":932414,"0.4.0":936227,"0.4.16":943200,"0.4.17":943241,"0.4.28":944413,"0.4.9":941111}}