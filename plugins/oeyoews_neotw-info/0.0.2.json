{"title":"$:/plugins/oeyoews/neotw-info","description":"neotw-info","author":"oeyoews","version":"0.0.2","core-version":">=5.3.1","type":"application/json","plugin-type":"plugin","meta#disabled":"yes","name":"neotw-info","dependents":"$:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-info/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-info/readme\",\"description\":\"neotw-info\"},\"$:/plugins/oeyoews/neotw-info/data.js\":{\"title\":\"$:/plugins/oeyoews/neotw-info/data.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-info/data.js\\ntype: application/javascript\\nmodule-type: library\\n\\ndata\\n\\\\*/\\n\\nmodule.exports = () => {\\n  const getString = (filter) => {\\n    return $tw.wiki.filterTiddlers(filter);\\n  };\\n\\n  const update = getString(\\n    '[!is[system]!prefix[$:/]!has[draft.of]!sort[modified]limit[1]get[modified]format:relativedate[]]',\\n  )[0];\\n  const plugins = getString('[plugin-type[plugin]]').length;\\n  const tags = getString('[tags[]]').length;\\n  const tiddlers = getString('[!is[system]]').length.toLocaleString();\\n  const version = $tw.version.replace(/-/g, ' ');\\n\\n  return {\\n    update,\\n    plugins,\\n    tags,\\n    tiddlers,\\n    version,\\n  };\\n};\\n\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-info/template.ejs\":{\"title\":\"$:/plugins/oeyoews/neotw-info/template.ejs\",\"text\":\"<%# 以下内容是v0.dev根据旧版的neotw-info ui 重构而来, 根据 ejs 需要做了少量更改 link: https://v0.dev/r/jLkrqzcE3ff %>\\n\\n\\t<div class=\\\"hidden md:block\\\">\\n\\t\\t<div class=\\\"flex items-center space-x-4\\\"><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\"\\n\\t\\t\\t\\tviewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\"\\n\\t\\t\\t\\tstroke-linejoin=\\\"round\\\" class=\\\"text-black\\\">\\n\\t\\t\\t\\t<path d=\\\"m12 14 4-4\\\"></path>\\n\\t\\t\\t\\t<path d=\\\"M3.34 19a10 10 0 1 1 17.32 0\\\"></path>\\n\\t\\t\\t</svg>\\n\\t\\t\\t<div class=\\\"flex items-center\\\"><span class=\\\"font-semibold\\\">Version</span>\\n\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\tclass=\\\"inline-flex items-center rounded-full border px-2.5 py-0.5 w-fit text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 ml-2\\\">\\n\\t\\t\\t\\t\\t<%= version %>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"flex items-center\\\"><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\"\\n\\t\\t\\t\\t\\tviewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\"\\n\\t\\t\\t\\t\\tstroke-linejoin=\\\"round\\\" class=\\\"text-red-500\\\">\\n\\t\\t\\t\\t\\t<circle cx=\\\"12\\\" cy=\\\"12\\\" r=\\\"10\\\"></circle>\\n\\t\\t\\t\\t\\t<line x1=\\\"12\\\" x2=\\\"12\\\" y1=\\\"8\\\" y2=\\\"12\\\"></line>\\n\\t\\t\\t\\t\\t<line x1=\\\"12\\\" x2=\\\"12.01\\\" y1=\\\"16\\\" y2=\\\"16\\\"></line>\\n\\t\\t\\t\\t</svg><span class=\\\"ml-2 font-semibold text-red-500\\\">Update</span><span\\n\\t\\t\\t\\t\\tclass=\\\"ml-2 text-sm text-gray-600\\\">\\n\\t\\t\\t\\t\\t<%= update %>\\n\\t\\t\\t\\t</span></div>\\n\\t\\t\\t<div class=\\\"flex items-center\\\"><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\"\\n\\t\\t\\t\\t\\tviewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\"\\n\\t\\t\\t\\t\\tstroke-linejoin=\\\"round\\\" class=\\\"text-green-500\\\">\\n\\t\\t\\t\\t\\t<path d=\\\"M12 22v-5\\\"></path>\\n\\t\\t\\t\\t\\t<path d=\\\"M9 8V2\\\"></path>\\n\\t\\t\\t\\t\\t<path d=\\\"M15 8V2\\\"></path>\\n\\t\\t\\t\\t\\t<path d=\\\"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z\\\"></path>\\n\\t\\t\\t\\t</svg><span class=\\\"ml-2 font-semibold\\\">Plugins</span>\\n\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\tclass=\\\"inline-flex items-center rounded-full border px-2.5 py-0.5 w-fit text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 ml-2\\\">\\n\\t\\t\\t\\t\\t<%= plugins %>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"flex items-center\\\"><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\"\\n\\t\\t\\t\\t\\tviewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\"\\n\\t\\t\\t\\t\\tstroke-linejoin=\\\"round\\\" class=\\\"text-yellow-500\\\">\\n\\t\\t\\t\\t\\t<path d=\\\"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z\\\"></path>\\n\\t\\t\\t\\t\\t<path d=\\\"M7 7h.01\\\"></path>\\n\\t\\t\\t\\t</svg><span class=\\\"ml-2 font-semibold\\\">Tags</span>\\n\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\tclass=\\\"inline-flex items-center rounded-full border px-2.5 py-0.5 w-fit text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 ml-2\\\">\\n\\t\\t\\t\\t\\t<%= tags %>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"flex items-center\\\"><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\"\\n\\t\\t\\t\\t\\tviewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\"\\n\\t\\t\\t\\t\\tstroke-linejoin=\\\"round\\\" class=\\\"text-blue-500\\\">\\n\\t\\t\\t\\t\\t<path d=\\\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\\\"></path>\\n\\t\\t\\t\\t\\t<polyline points=\\\"14 2 14 8 20 8\\\"></polyline>\\n\\t\\t\\t\\t</svg><span class=\\\"ml-2 font-semibold\\\">Tiddlers</span>\\n\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\tclass=\\\"inline-flex items-center rounded-full border px-2.5 py-0.5 w-fit text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 ml-2\\\">\\n\\t\\t\\t\\t\\t<%= tiddlers %>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\",\"type\":\"text/plain\"},\"$:/plugins/oeyoews/neotw-info/widget.js\":{\"title\":\"$:/plugins/oeyoews/neotw-info/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-info/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nneotw-info widget\\n\\\\*/\\n\\nconst { widget: Widget } = require('$:/core/modules/widgets/widget.js');\\n\\nclass InfoWidget extends Widget {\\n  constructor(parseTreeNode, options) {\\n    super(parseTreeNode, options);\\n  }\\n\\n  render(parent, nextSibling) {\\n    if (!$tw.browser) return;\\n    this.parentDomNode = parent;\\n    this.computeAttributes();\\n    this.execute();\\n\\n    const getdata = require('./data');\\n    const data = getdata();\\n\\n    const ejs = require('ejs.min.js');\\n    const template = $tw.wiki.getTiddlerText(\\n      '$:/plugins/oeyoews/neotw-info/template.ejs',\\n    );\\n\\n    const html = ejs.render(template, data);\\n\\n    const domNode = this.document.createElement('div');\\n    domNode.innerHTML = html;\\n\\n    parent.insertBefore(domNode, nextSibling);\\n    this.domNodes.push(domNode);\\n  }\\n}\\n\\n/**\\n * @description neotw-info widget\\n */\\nexports.oinfo = InfoWidget;\\n\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}