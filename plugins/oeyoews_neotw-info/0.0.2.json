{"title":"$:/plugins/oeyoews/neotw-info","description":"neotw-info","author":"oeyoews","version":"0.0.2","core-version":">=5.3.1","type":"application/json","plugin-type":"plugin","meta#disabled":"yes","name":"neotw-info","dependents":"$:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-info/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-info/readme\",\"description\":\"neotw-info\"},\"$:/plugins/oeyoews/neotw-info/info.js\":{\"title\":\"$:/plugins/oeyoews/neotw-info/info.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-info/info.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nmodule.exports = () => {\\n  const createElement = $tw.utils.domMaker;\\n  const wiki = $tw.wiki;\\n  const baseURL = 'https://img.shields.io/badge';\\n\\n  const createImg = (msg, text, logo = '') => {\\n    return createElement('img', {\\n      class: 'rounded-none',\\n      attributes: {\\n        src: logo\\n          ? `${baseURL}/${msg}-${text}-green?style=social&logo=${logo}`\\n          : `${baseURL}/${msg}-${text}-green?style=social`,\\n      },\\n    });\\n  };\\n\\n  const updateTime = wiki.filterTiddlers(\\n    '[!is[system]!prefix[$:/]!has[draft.of]!sort[modified]limit[1]get[modified]format:relativedate[]]',\\n  );\\n  const pluginsCount = wiki.filterTiddlers('[plugin-type[plugin]]').length;\\n  const tagsCount = wiki.filterTiddlers('[tags[]]').length;\\n  const tiddlersCount = wiki\\n    .filterTiddlers('[!is[system]]')\\n    .length.toLocaleString();\\n  const version = $tw.version.replace(/-/g, ' ');\\n\\n  const list = [\\n    { msg: 'Version', text: version, logo: 'tiddlywiki' },\\n    { msg: '✏️ Update', text: updateTime },\\n    { msg: '🧩 Plugins', text: pluginsCount },\\n    { msg: '🏷️ Tags', text: tagsCount },\\n    { msg: '🐟 Tiddlers', text: tiddlersCount }, //  🐸\\n  ];\\n\\n  const children = [];\\n  list.forEach(({ msg, text, logo }) => {\\n    children.push(createImg(msg, text, logo));\\n  });\\n\\n  return createElement('div', {\\n    class: 'space-x-2',\\n    children,\\n  });\\n};\\n\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-info/widget.js\":{\"title\":\"$:/plugins/oeyoews/neotw-info/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-info/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nneotw-info widget\\n\\\\*/\\n\\nconst { widget: Widget } = require('$:/core/modules/widgets/widget.js');\\nconst createContainer = require('./info');\\n\\nclass InfoWidget extends Widget {\\n  constructor(parseTreeNode, options) {\\n    super(parseTreeNode, options);\\n  }\\n\\n  render(parent, nextSibling) {\\n    if (!$tw.browser) return;\\n    this.parentDomNode = parent;\\n    this.computeAttributes();\\n    this.execute();\\n\\n    const domNode = createContainer();\\n\\n    parent.insertBefore(domNode, nextSibling);\\n    this.domNodes.push(domNode);\\n  }\\n}\\n\\n/**\\n * @description neotw-info widget\\n */\\nexports.oinfo = InfoWidget;\\n\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}