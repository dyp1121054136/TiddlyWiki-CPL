{"title":"$:/plugins/oeyoews/neotw-info","description":"neotw-info","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"neotw-info","dependents":"$:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-info/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-info/readme\",\"description\":\"neotw-info\"},\"$:/plugins/oeyoews/neotw-info/info.js\":{\"title\":\"$:/plugins/oeyoews/neotw-info/info.js\",\"text\":\"/*\\\\\\r\\ntitle: $:/plugins/oeyoews/neotw-info/info.js\\r\\ntype: application/javascript\\r\\nmodule-type: library\\r\\n\\r\\n\\\\*/\\r\\n\\r\\nmodule.exports = function createContainer() {\\r\\n  const createElement = $tw.utils.domMaker;\\r\\n  const wiki = $tw.wiki;\\r\\n\\r\\n  function createImg(msg, text, logo = '') {\\r\\n    return createElement('img', {\\r\\n      class: 'rounded-none',\\r\\n      attributes: {\\r\\n        src: logo\\r\\n          ? `https://img.shields.io/badge/${msg}-${text}-green?style=social&logo=${logo}`\\r\\n          : `https://img.shields.io/badge/${msg}-${text}-green?style=social`,\\r\\n      },\\r\\n    });\\r\\n  }\\r\\n\\r\\n  const updateTime = wiki.filterTiddlers(\\r\\n    '[!is[system]!prefix[$:/]!has[draft.of]!sort[modified]limit[1]get[modified]format:relativedate[]]',\\r\\n  );\\r\\n  const pluginsCount = wiki.filterTiddlers('[plugin-type[plugin]]').length;\\r\\n  const tagsCount = wiki.filterTiddlers('[tags[]]').length;\\r\\n  const tiddlersCount = wiki.filterTiddlers('[!is[system]]').length;\\r\\n  const version = $tw.version.replace(/-/g, ' ');\\r\\n\\r\\n  const list = [\\r\\n    { msg: 'Version', text: version, logo: 'tiddlywiki' },\\r\\n    { msg: '✏️ Update', text: updateTime },\\r\\n    { msg: '🧩 Plugins', text: pluginsCount },\\r\\n    { msg: '🏷️ Tags', text: tagsCount },\\r\\n    { msg: '🐟 Tiddlers', text: tiddlersCount }, //  🐸\\r\\n  ];\\r\\n\\r\\n  let children = [];\\r\\n  list.forEach(({ msg, text, logo }) => {\\r\\n    children.push(createImg(msg, text, logo));\\r\\n  });\\r\\n\\r\\n  const container = createElement('div', {\\r\\n    class: 'space-x-2',\\r\\n    children,\\r\\n  });\\r\\n  return container;\\r\\n};\\r\\n\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-info/widget.js\":{\"title\":\"$:/plugins/oeyoews/neotw-info/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-info/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nneotw-info widget\\n\\n\\\\*/\\n(function () {\\n  /*jslint node: true, browser: true */\\n  /*global $tw: false */\\n  'use strict';\\n\\n  const { widget: Widget } = require('$:/core/modules/widgets/widget.js');\\n  const createContainer = require('./info');\\n\\n  class InfoWidget extends Widget {\\n    constructor(parseTreeNode, options) {\\n      super(parseTreeNode, options);\\n    }\\n\\n    render(parent, nextSibling) {\\n      this.parentDomNode = parent;\\n      this.computeAttributes();\\n      this.execute();\\n\\n      const domNode = createContainer();\\n\\n      parent.insertBefore(domNode, nextSibling);\\n      this.domNodes.push(domNode);\\n    }\\n  }\\n\\n  /**\\n   * @description neotw-info widget\\n   */\\n  exports.oinfo = InfoWidget;\\n})();\\n\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}