{"title":"$:/plugins/benwebber/decimal","name":"decimal","description":"Manage decimal classification systems","author":"Ben Webber","version":"0.2.0","core-version":">=5.2.1","source":"https://github.com/benwebber/tiddlywiki-plugins","plugin-type":"plugin","list":"README","license":"MIT","dependents":"","type":"application/json","text":"{\"tiddlers\":{\"$:/plugins/benwebber/decimal/README\":{\"title\":\"$:/plugins/benwebber/decimal/README\",\"text\":\"''decimal'' helps you manage decimal classification systems with TiddlyWiki.\\n\\n<$list filter=\\\"[variables[]match[twdoc.list-macros]]\\\" emptyMessage=\\\"Install [ext[twdoc|https://benwebber.github.io/tiddlywiki-plugins/#twdoc]] to view documentation.\\\">\\n<<twdoc.list-macros \\\"[all[shadows]tag[$:/tags/Macro]prefix[$:/plugins/benwebber/decimal/]]\\\">>\\n</$list>\\n\"},\"$:/plugins/benwebber/decimal/styles/static\":{\"text\":\".tw-invisible{visibility:hidden}.tw-w-0{width:0}.tw-w-full{width:100%}.tw-whitespace-nowrap{white-space:nowrap}.tw-border-0{border-width:0}.\\\\[enlist\\\\:raw\\\\<parts\\\\>count\\\\[\\\\]\\\\]{enlist:raw<parts>count[]}.\\\\[enlist\\\\:raw\\\\<parts\\\\>butlast\\\\[\\\\]join\\\\<__separator__\\\\>\\\\]{enlist:raw<parts>butlast[]join< separator >}.\\\\[enlist\\\\:raw\\\\<parts\\\\>last\\\\[\\\\]addprefix\\\\<__separator__\\\\>\\\\]{enlist:raw<parts>last[]addprefix< separator >}.decimal th{text-align:start;background:none;border-style:solid;border-width:1px 0}.empty\\\\:tw-hidden:empty{display:none}\",\"title\":\"$:/plugins/benwebber/decimal/styles/static\",\"type\":\"text/css\",\"tags\":\"$:/tags/Stylesheet\"},\"$:/plugins/benwebber/decimal/macros/private\":{\"title\":\"$:/plugins/benwebber/decimal/macros/private\",\"text\":\"<!-- NOTE: addprefix should not use `separator` to treat IDs as decimals. -->\\n\\\\define sortsub() [all[current]search-replace:g<__separator__>,[]addprefix[.]]\\n\"},\"$:/plugins/benwebber/decimal/macros/public/index\":{\"title\":\"$:/plugins/benwebber/decimal/macros/public/index\",\"tags\":\"$:/tags/Macro\",\"twdoc.description\":\"Render a data tiddler describing a decimal classification system.\",\"twdoc.param.tiddler\":\"The tiddler to render. The default is the [ext[current tiddler|https://tiddlywiki.com/#Current Tiddler]].\",\"twdoc.param.tiddler.optional\":\"true\",\"twdoc.param.headings\":\"A filter identifying top-level IDs in the system. These rows will be rendered as table headings (with `th` tags) instead of normal cells.\",\"twdoc.param.headings.optional\":\"true\",\"twdoc.param.caption\":\"Render this field, falling back on the tiddler `title`.\",\"twdoc.param.separator\":\"Use this separator to separate each level in the system.\",\"twdoc.param.class\":\"Add this class to the table.\",\"twdoc.param.class.optional\":\"true\",\"text\":\"\\\\define decimal.index(tiddler headings:\\\"\\\" caption:\\\"caption\\\" separator:\\\".\\\" class)\\n<$let\\n  tiddler={{{ [<__tiddler__>!is[blank]] ~[<currentTiddler>] }}}\\n  ids=\\\"[all[current]indexes[]sortsub:number<sortsub>]\\\"\\n  tiddlers=\\\"[all[current]getindex<id>]\\\"\\n>\\n  <$tiddler tiddler=<<tiddler>>>\\n    {{||$:/plugins/benwebber/decimal/templates/index}}\\n  </$tiddler>\\n</$let>\\n\\\\end\\n\"},\"$:/plugins/benwebber/decimal/macros/public/list-index\":{\"title\":\"$:/plugins/benwebber/decimal/macros/public/list-index\",\"tags\":\"$:/tags/Macro\",\"twdoc.description\":\"Render a selection of tiddlers describing a decimal classification system.\",\"twdoc.param.filter\":\"A filter selecting the tiddlers to list. You do not need to add a filter for the field name. The macro automatically filters this list further by <<twdoc.param field>>.\",\"twdoc.param.field\":\"The field that stores each tiddler's decimal classification system ID.\",\"twdoc.param.headings\":\"A filter identifying top-level IDs in the system. These rows will be rendered as table headings (with `th` tags) instead of normal cells.\",\"twdoc.param.headings.optional\":\"true\",\"twdoc.param.caption\":\"Render this field, falling back on the tiddler `title`.\",\"twdoc.param.separator\":\"Use this separator to separate each level in the system.\",\"twdoc.param.class\":\"Add this class to the table.\",\"twdoc.param.class.optional\":\"true\",\"text\":\"\\\\define decimal.list-index(filter field:\\\"decimal.id\\\" headings:\\\"\\\" caption:\\\"caption\\\" separator:\\\".\\\" class)\\n\\\\import [[$:/plugins/benwebber/decimal/macros/private]]\\n<$let\\n  ids=\\\"\\\"\\\"$filter$ +[get[$field$]sortsub:number<sortsub>]\\\"\\\"\\\"\\n  tiddlers=\\\"\\\"\\\"$filter$ :filter[get[$field$]match<id>]\\\"\\\"\\\"\\n>\\n  {{||$:/plugins/benwebber/decimal/templates/index}}\\n</$let>\\n\\\\end\\n\"},\"$:/plugins/benwebber/decimal/styles/dynamic\":{\"title\":\"$:/plugins/benwebber/decimal/styles/dynamic\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\".decimal th {\\n  border-color: <<colour \\\"table-border\\\">>;\\n}\\n\"},\"$:/plugins/benwebber/decimal/templates/index\":{\"title\":\"$:/plugins/benwebber/decimal/templates/index\",\"text\":\"\\\\whitespace trim\\n\\n\\\\define row(tag)\\n<$set name=parts filter=\\\"[<id>split<__separator__>]\\\">\\n  <$let\\n    level={{{ [enlist:raw<parts>count[]] }}}\\n    prefix={{{ [enlist:raw<parts>butlast[]join<__separator__>] }}}\\n    suffix={{{ [enlist:raw<parts>last[]addprefix<__separator__>] }}}\\n  >\\n    <tr data-decimal-id=<<id>> data-decimal-level=<<level>>>\\n      <$tag$ class=\\\"decimal-id tw-border-0 tw-w-0 tw-whitespace-nowrap\\\">\\n        <data value=<<id>>>\\n          <$list filter=\\\"[<level>compare:number:gt[1]]\\\" emptyMessage=<<id>>>\\n            <span class=\\\"tw-invisible\\\"><<prefix>></span><<suffix>>\\n          </$list>\\n        </data>\\n      </$tag$>\\n      <$tag$ class=\\\"decimal-label tw-border-0\\\">\\n        <$link>\\n          <$transclude field=<<__caption__>>>\\n            <$view field=\\\"title\\\" />\\n          </$transclude>\\n        </$link>\\n      </$tag$>\\n    </tr>\\n  </$let>\\n</$set>\\n\\\\end\\n\\n<$list filter=\\\"[<currentTiddler>] -[[$:/plugins/benwebber/decimal/templates/index]]\\\">\\n  <table class={{{ [<__class__>] decimal tw-border-0 tw-w-full empty:tw-hidden +[!is[blank]join[ ]] }}}>\\n    <$list filter=<<ids>> variable=id>\\n      <$list filter=<<tiddlers>>>\\n        <$let tag={{{ [subfilter<__headings__>] :intersection[<id>] +[then[th]] ~[[td]] }}}>\\n          <$macrocall $name=row tag=<<tag>> />\\n        </$let>\\n      </$list>\\n    </$list>\\n  </table>\\n</$list>\\n\"}}}"}