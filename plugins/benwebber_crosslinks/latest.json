{"title":"$:/plugins/benwebber/crosslinks","name":"crosslinks","description":"Add a footer showing a tiddler's links and backlinks","author":"Ben Webber","version":"0.4.0","core-version":">=5.0.0","source":"https://github.com/benwebber/tiddlywiki-plugins","plugin-type":"plugin","list":"README Settings","license":"MIT","dependents":"","type":"application/json","text":"{\"tiddlers\":{\"$:/plugins/benwebber/crosslinks/README\":{\"title\":\"$:/plugins/benwebber/crosslinks/README\",\"text\":\"''crosslinks'' adds a footer to every non-system tiddler showing the tiddler's links (references) and backlinks (citations).\\n\"},\"$:/plugins/benwebber/crosslinks/Settings\":{\"title\":\"$:/plugins/benwebber/crosslinks/Settings\",\"text\":\"\\\\define checkactions()\\n<$action-deletetiddler $tiddler=\\\"$:/plugins/benwebber/crosslinks/config/$(__key__)$\\\" />\\n\\\\end\\n\\n\\\\define boolean(key)\\n<$checkbox\\n  tiddler=\\\"$:/plugins/benwebber/crosslinks/config/$key$\\\"\\n  field=\\\"text\\\"\\n  checked=\\\"true\\\"\\n  unchecked=\\\"false\\\"\\n  default={{$:/plugins/benwebber/crosslinks/config/$key$}}\\n  checkactions=<<checkactions>>\\n>\\n{{$:/plugins/benwebber/crosslinks/language/Caption/Setting/$key$}}\\n</$checkbox>\\n\\\\end\\n\\n<<boolean ViewTemplate/footer>>\\n\"},\"$:/plugins/benwebber/crosslinks/config/ViewTemplate/footer\":{\"title\":\"$:/plugins/benwebber/crosslinks/config/ViewTemplate/footer\",\"text\":\"true\"},\"$:/plugins/benwebber/crosslinks/config/Filters/Links\":{\"title\":\"$:/plugins/benwebber/crosslinks/config/Filters/Links\",\"text\":\"[<currentTiddler>links[]]\"},\"$:/plugins/benwebber/crosslinks/config/Filters/Backlinks\":{\"title\":\"$:/plugins/benwebber/crosslinks/config/Filters/Backlinks\",\"text\":\"[<currentTiddler>backlinks[]!is[draft]sort[]]\"},\"$:/plugins/benwebber/crosslinks/styles/static\":{\"text\":\".tw-m-0{margin:0}.tw-my-2{margin-top:.5rem;margin-bottom:.5rem}.tw-border-x-0{border-left-width:0;border-right-width:0}.tw-border-t{border-top-width:1px}.tw-border-b-0{border-bottom-width:0}.tw-border-solid{border-style:solid}.tw-py-2{padding-top:.5rem;padding-bottom:.5rem}.tw-align-middle{vertical-align:middle}.tw-font-bold{font-weight:700}.\\\\[match\\\\:caseinsensitive\\\\[true\\\\]\\\\]{match:caseinsensitive[true]}\",\"title\":\"$:/plugins/benwebber/crosslinks/styles/static\",\"type\":\"text/css\",\"tags\":\"$:/tags/Stylesheet\"},\"$:/plugins/benwebber/crosslinks/language/Caption/Links\":{\"title\":\"$:/plugins/benwebber/crosslinks/language/Caption/Links\",\"text\":\"References\"},\"$:/plugins/benwebber/crosslinks/language/Caption/Backlinks\":{\"title\":\"$:/plugins/benwebber/crosslinks/language/Caption/Backlinks\",\"text\":\"Citations\"},\"$:/plugins/benwebber/crosslinks/language/Button/Links/Show\":{\"title\":\"$:/plugins/benwebber/crosslinks/language/Button/Links/Show\",\"text\":\"{{$:/core/images/right-arrow}} Links\"},\"$:/plugins/benwebber/crosslinks/language/Button/Links/Hide\":{\"title\":\"$:/plugins/benwebber/crosslinks/language/Button/Links/Hide\",\"text\":\"{{$:/core/images/down-arrow}} Links\"},\"$:/plugins/benwebber/crosslinks/language/Caption/Setting/ViewTemplate/footer\":{\"title\":\"$:/plugins/benwebber/crosslinks/language/Caption/Setting/ViewTemplate/footer\",\"text\":\"Automatically enable links footer\"},\"$:/plugins/benwebber/crosslinks/macros/private\":{\"title\":\"$:/plugins/benwebber/crosslinks/macros/private\",\"text\":\"\\\\define crosslinks.toggle()\\n<$list filter=\\\"[<stateTiddler>is[tiddler]]\\\">\\n  <$action-deletetiddler $tiddler=<<stateTiddler>> />\\n</$list>\\n<$list filter=\\\"[<stateTiddler>!is[tiddler]]\\\">\\n  <$action-createtiddler $basetitle=<<stateTiddler>> text=\\\"true\\\" />\\n</$list>\\n\\\\end\\n\\n\\\\define crosslinks.filter-should-show()\\n[all[current]get[crosslinks.show]]\\n~[{$:/plugins/benwebber/crosslinks/config/ViewTemplate/footer}]\\n+[match:caseinsensitive[true]]\\n\\\\end\\n\\n\\\\define crosslinks.filter-has-links()\\n[<currentTiddler>is[tiddler]filter{$:/plugins/benwebber/crosslinks/config/Filters/Links}]\\n[<currentTiddler>is[tiddler]filter{$:/plugins/benwebber/crosslinks/config/Filters/Backlinks}]\\n+[first[]]\\n\\\\end\\n\"},\"$:/plugins/benwebber/crosslinks/styles/dynamic\":{\"title\":\"$:/plugins/benwebber/crosslinks/styles/dynamic\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\".crosslinks {\\n  border-color: <<colour \\\"muted-foreground\\\">>;\\n}\\n\\n.crosslinks-button {\\n  color: <<colour \\\"muted-foreground\\\">>;\\n}\\n\\n.crosslinks-button-active,\\n.crosslinks-button:hover, .crosslinks-button:focus, .crosslinks-button:active {\\n  color: <<colour \\\"foreground\\\">>;\\n}\\n\\n.crosslinks-button svg {\\n  fill: <<colour \\\"muted-foreground\\\">>;\\n}\\n\\n.crosslinks-button-active svg,\\n.crosslinks-button:hover svg, .crosslinks-button:focus svg, .crosslinks-button:active svg {\\n  fill: <<colour \\\"foreground\\\">>;\\n}\\n\"},\"$:/plugins/benwebber/crosslinks/ui/ViewTemplate/footer\":{\"title\":\"$:/plugins/benwebber/crosslinks/ui/ViewTemplate/footer\",\"tags\":\"$:/tags/ViewTemplate\",\"list-after\":\"$:/core/ui/ViewTemplate/body\",\"description\":\"Adds a footer to all non-system tiddlers showing the tiddler's links and backlinks. Enable or disable this footer in the plugin settings. Setting a tiddler's `crosslinks.show` field to `true` will ''always'' show the footer. Setting it to `false` will ''never'' show the footer. Add a custom class to the footer with the `crosslinks.class` field.\",\"text\":\"\\\\import [[$:/plugins/benwebber/crosslinks/macros/private]]\\n\\n<$list filter=<<crosslinks.filter-should-show>> variable=noop>\\n  <$list filter=<<crosslinks.filter-has-links>> variable=noop>\\n    <$vars stateTiddler=<<qualify \\\"$:/state/plugins/benwebber/crosslinks\\\">>>\\n      <div class={{{ [all[current]get[crosslinks.class]] crosslinks tw-border-solid tw-border-t tw-border-x-0 tw-border-b-0 tw-py-2 +[!is[blank]join[ ]] }}}>\\n        <$list filter=\\\"[<stateTiddler>is[tiddler]]\\\" variable=noop>\\n          <$button actions=<<crosslinks.toggle>> class=\\\"tc-btn-invisible crosslinks-button crosslinks-button-active tw-align-middle tw-font-bold\\\">\\n            {{$:/plugins/benwebber/crosslinks/language/Button/Links/Hide}}\\n          </$button>\\n          <$list filter=\\\"[all[current]links[]then<currentTiddler>first[]]\\\">\\n            <h4 class=\\\"tw-my-2\\\">{{$:/plugins/benwebber/crosslinks/language/Caption/Links}}</h4>\\n            <$macrocall $name=list-links filter={{$:/plugins/benwebber/crosslinks/config/Filters/Links}} type=\\\"ol\\\" class=\\\"tw-m-0\\\" />\\n          </$list>\\n          <$list filter=\\\"[all[current]backlinks[]then<currentTiddler>first[]]\\\">\\n            <h4 class=\\\"tw-my-2\\\">{{$:/plugins/benwebber/crosslinks/language/Caption/Backlinks}}</h4>\\n            <$macrocall $name=list-links filter={{$:/plugins/benwebber/crosslinks/config/Filters/Backlinks}} type=\\\"ol\\\" class=\\\"tw-m-0\\\" />\\n          </$list>\\n        </$list>\\n        <$list filter=\\\"[<stateTiddler>!is[tiddler]]\\\" variable=noop>\\n          <$button actions=<<crosslinks.toggle>> class=\\\"tc-btn-invisible crosslinks-button tw-align-middle tw-font-bold\\\">\\n            {{$:/plugins/benwebber/crosslinks/language/Button/Links/Show}}\\n          </$button>\\n        </$list>\\n      </div>\\n    </$vars>\\n  </$list>\\n</$list>\\n\"}}}"}